{% extends 'todolist_app/base.html' %}

{% block content %}
    {% load crispy_forms_tags %}
    <form method="POST">
        <!-- Security token by Django -->
        {% csrf_token %}
        <!-- Form fields -->
        <div class="mb-3">
            <label for="{{ form.title.id_for_label }}" class="form-label">Title</label>
            <input type="text" class="form-control" id="{{ form.title.id_for_label }}" name="title" value="{{ task.title }}">
        </div>
        <div class="mb-3">
            <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
            <textarea class="form-control" id="{{ form.description.id_for_label }}" name="description">{{ task.description }}</textarea>
        </div>
        <div class="mb-3">
            <label for="{{ form.status.id_for_label }}" class="form-label">Status</label>
            <select class="form-control" id="{{ form.status.id_for_label }}" name="status">
                {% for choice in form.status.field.choices %}
                    <option value="{{ choice.0 }}" {% if choice.0 == task.status %}selected{% endif %}>{{ choice.1 }}</option>
                {% endfor %}
            </select>
        </div>
        <input class="btn btn-primary" type="submit" value="Update">
        <a href="{% url 'task_list' %}" class="btn btn-danger">Cancel</a>
    </form>
{% endblock %}
